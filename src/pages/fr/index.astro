---
import Layout from '../../layouts/Layout.astro';
import { useTranslations } from '../../i18n';
import type { Lang } from '../../i18n';

const lang: Lang = 'fr';
const t = useTranslations(lang);
const otherLang = 'en';
const currentYear = new Date().getFullYear();
---

<Layout lang={lang} title={t('title')}>
  <div class="shell">

    <!-- TITLEBAR -->
    <div class="titlebar">
      <div class="titlebar-top">
        <span>{t('titlebar.left')}</span>
        <div class="lang-switcher">
          <a href={`/${lang}/`} class="active">FR</a>
          <span class="sep">&nbsp;|&nbsp;</span>
          <a href={`/${otherLang}/`}>EN</a>
        </div>
        <span>{t('titlebar.right')}</span>
      </div>
      <div class="titlebar-content">
        <div class="ascii-banner">
{`_                              _           _____                       _
| |    ___ _ __  _ __  _   _   | |    ___  |_   _|_   _ _ __ __ _ _ __ | |_
| |   / _ \\ '_ \\| '_ \\| | | |  | |   / _ \\   | | | | | | '__/ _\` | '_ \\| __|
| |__|  __/ | | | | | | |_| |  | |__|  __/   | | | |_| | | | (_| | | | | |_
|_____\\___|_| |_|_| |_|\\__, |  |_____\\___|   |_|  \\__, |_|  \\__,_|_| |_|\\__|
                        |___/                      |___/`}
        </div>
        <div class="subtitle">{t('subtitle')}</div>
      </div>
    </div>

    <!-- NAV -->
    <div class="panel">
      <div class="nav">
        <a href="#intro">{t('nav.intro')}</a>
        <a href="#formation">{t('nav.education')}</a>
        <a href="#projets">{t('nav.projects')}</a>
        <a href="#competitions">{t('nav.competitions')}</a>
        <a href="#seerdesk">{t('nav.seerdesk')}</a>
      </div>
    </div>

    <!-- INTRO -->
    <div class="panel" id="intro">
      <div class="panel-header">
        <span class="tag">01</span>
        <span class="label">{t('section.intro')}</span>
      </div>
      <div class="panel-body">
        <div class="intro-text">
          <span class="prompt">{t('intro.prompt')}</span><br><br>
          <Fragment set:html={t('intro.text')} />
        </div>
      </div>
    </div>

    <!-- EDUCATION -->
    <div class="panel" id="formation">
      <div class="panel-header">
        <span class="tag">02</span>
        <span class="label">{t('section.education')}</span>
      </div>
      <div class="panel-body">

        <div class="edu">
          <div class="edu-header">
            <span class="edu-school">{t('edu.1.school')}</span>
            <span class="edu-year">{t('edu.1.year')}</span>
          </div>
          <div class="edu-full">{t('edu.1.full')}</div>
          <div class="edu-degree">{t('edu.1.degree')}</div>
        </div>

        <div class="edu">
          <div class="edu-header">
            <span class="edu-school">{t('edu.2.school')}</span>
            <span class="edu-year">{t('edu.2.year')}</span>
          </div>
          <div class="edu-degree">{t('edu.2.degree')}</div>
          <div class="edu-skills">{t('edu.2.skills')}</div>
        </div>

        <div class="edu">
          <div class="edu-header">
            <span class="edu-school">{t('edu.3.school')}</span>
            <span class="edu-year">{t('edu.3.year')}</span>
          </div>
          <div class="edu-degree">{t('edu.3.degree')}</div>
        </div>

      </div>
    </div>

    <!-- PROJECTS -->
    <div class="panel" id="projets">
      <div class="panel-header">
        <span class="tag">03</span>
        <span class="label">{t('section.projects')}</span>
      </div>
      <div class="panel-body">

        <div class="project">
          <div class="project-header">
            <span class="tree-line">+-</span>
            <span class="project-name">{t('projects.balz.name')}</span>
            <span class="project-year">{t('projects.balz.year')}</span>
          </div>
          <div class="project-desc">
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.balz.desc')}<br>
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.balz.desc2')}
          </div>
        </div>

        <div class="project">
          <div class="project-header">
            <span class="tree-line">+-</span>
            <span class="project-name">{t('projects.cigar3.name')}</span>
            <span class="project-year">{t('projects.cigar3.year')}</span>
          </div>
          <div class="project-desc">
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.cigar3.desc')}<br>
            <span class="tree-line">|&nbsp;&nbsp;</span><a class="project-link" href="https://github.com">{t('projects.cigar3.link')}</a>
          </div>
        </div>

        <div class="project">
          <div class="project-header">
            <span class="tree-line">+-</span>
            <span class="project-name">{t('projects.sixctf1.name')}</span>
            <span class="project-year">{t('projects.sixctf1.year')}</span>
          </div>
          <div class="project-desc">
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.sixctf1.desc')}<br>
            <span class="tree-line">|&nbsp;&nbsp;</span><a class="project-link" href="https://github.com">{t('projects.sixctf1.link')}</a>
          </div>
        </div>

        <div class="project">
          <div class="project-header">
            <span class="tree-line">+-</span>
            <span class="project-name">{t('projects.sixctf2.name')}</span>
            <span class="project-year">{t('projects.sixctf2.year')}</span>
          </div>
          <div class="project-desc">
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.sixctf2.desc')}<br>
            <span class="tree-line">|&nbsp;&nbsp;</span><a class="project-link" href="https://github.com">{t('projects.sixctf2.link')}</a>
          </div>
        </div>

        <div class="project">
          <div class="project-header">
            <span class="tree-line">+-</span>
            <span class="project-name">{t('projects.brainrot.name')}</span>
            <span class="project-year">{t('projects.brainrot.year')}</span>
          </div>
          <div class="project-desc">
            <span class="tree-line">|&nbsp;&nbsp;</span>{t('projects.brainrot.desc')}<br>
            <span class="tree-line">|&nbsp;&nbsp;</span><a class="project-link" href="https://github.com">{t('projects.brainrot.link')}</a>
          </div>
        </div>

      </div>
    </div>

    <!-- COMPETITIONS -->
    <div class="panel" id="competitions">
      <div class="panel-header">
        <span class="tag">04</span>
        <span class="label">{t('section.competitions')}</span>
      </div>
      <div class="panel-body">

        <div class="comp">
          <div><span class="comp-rank">{t('comp.1.rank')}</span> <span class="comp-event">{t('comp.1.event')}</span></div>
          <div class="comp-detail">{t('comp.1.detail')}</div>
        </div>

        <div class="comp">
          <div><span class="comp-rank">{t('comp.2.rank')}</span> <span class="comp-event">{t('comp.2.event')}</span></div>
          <div class="comp-detail">{t('comp.2.detail')}</div>
        </div>

        <div class="comp">
          <div><span class="comp-rank">{t('comp.3.rank')}</span> <span class="comp-event">{t('comp.3.event')}</span></div>
          <div class="comp-detail">{t('comp.3.detail')}</div>
        </div>

        <div class="comp">
          <div><span class="comp-rank">{t('comp.4.rank')}</span> <span class="comp-event">{t('comp.4.event')}</span></div>
          <div class="comp-detail">{t('comp.4.detail')}</div>
        </div>

        <div class="comp">
          <div><span class="comp-rank">{t('comp.5.rank')}</span> <span class="comp-event">{t('comp.5.event')}</span></div>
          <div class="comp-detail">{t('comp.5.detail')}</div>
        </div>

        <div class="comp">
          <div><span class="comp-rank">{t('comp.6.rank')}</span> <span class="comp-event">{t('comp.6.event')}</span></div>
          <div class="comp-detail">{t('comp.6.detail')} &middot; <a class="project-link" href="https://tungfit.tech/">tungfit.tech</a></div>
        </div>

      </div>
    </div>

    <!-- SEERDESK -->
    <div class="panel" id="seerdesk">
      <div class="panel-header">
        <span class="tag">05</span>
        <span class="label">{t('section.seerdesk')}</span>
      </div>
      <div class="panel-body" style="padding: 0;">
        <div style="padding: 12px 16px; border-bottom: 1px solid var(--border); font-size: 12px; color: var(--dim);">
          <span class="prompt" style="color: var(--dim);">{t('seerdesk.prompt')}</span><br>
          {t('seerdesk.subtitle')}
        </div>

        <div style="padding: 12px 16px;">
          <div style="color: var(--dim); font-size: 11px; margin-bottom: 6px;">{t('seerdesk.stackLabel')}</div>
          <div class="tech-stack">
            <span class="tech-tag">Go</span>
            <span class="tech-tag">C++23</span>
            <span class="tech-tag">TypeScript</span>
            <span class="tech-tag">React</span>
            <span class="tech-tag">Electron</span>
            <span class="tech-tag">WebRTC</span>
            <span class="tech-tag">PostgreSQL</span>
            <span class="tech-tag">NATS JetStream</span>
            <span class="tech-tag">OpenFGA</span>
            <span class="tech-tag">Docker</span>
            <span class="tech-tag">Ansible</span>
            <span class="tech-tag">SDL3</span>
            <span class="tech-tag">NVENC</span>
            <span class="tech-tag">FFmpeg</span>
          </div>
        </div>

        <div style="padding: 12px 16px; border-top: 1px solid var(--border); font-size: 12px;">
          <div style="color: var(--dim); font-size: 11px; margin-bottom: 8px;">{t('seerdesk.archLabel')}</div>
          <pre style="color: var(--white); font-size: 11px; line-height: 1.4; overflow-x: auto;">
{`  +-----------+      +-----------+      +-----------+
  |  Client   |----->|    API    |----->|  Engine   |
  |  Desktop  |  WS  |  Backend  | Msg  | Streaming |
  +-----------+      +-----------+      +-----------+
                          |                  |
                     +----+---+          Peer-to-Peer
                     |        |              |
                 +---v---+ +--v----+    +----v----+
                 |  Data | | AuthZ |    | Capture |
                 | Store | | Layer |    |  + Codec|
                 +-------+ +-------+    +---------+`}
          </pre>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <span>&copy; {currentYear} {t('footer.copyright')}</span>
      <span>{t('footer.exit')}</span>
    </div>

  </div>
</Layout>
